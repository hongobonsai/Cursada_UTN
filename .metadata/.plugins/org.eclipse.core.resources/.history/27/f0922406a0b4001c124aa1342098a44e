/*
 ============================================================================
 Name        : Ejercicio_2_3.c
 Alumno      : Alonso Nicolás Gabriel

 Ejercicio 2-3:
 Debemos alquilar el servicio de transporte para llegar a Mar del Plata con un grupo de personas, de cada persona debemos obtener los
 siguientes datos:
 número de cliente,
 estado civil ('s' para soltero", 'c' para casado o 'v' viudo),
 edad( solo mayores de edad, más de 17),
 temperatura corporal (validar por favor)
 y sexo ('f' para femenino, 'm' para masculino, 'o' para no binario).
 NOTA: el precio por pasajero es de $600.
 Se debe informar (solo si corresponde):
 a) La cantidad de personas con estado "viudo" de más de 60 años.
 b) el número de cliente y edad de la mujer soltera más joven.
 c) cuánto sale el viaje total sin descuento.
 d) si hay más del 50% de los pasajeros que tiene más de 60 años , el precio final tiene un descuento del 25%, que solo mostramos si corresponde.

 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#define PRECIO_PASAJERO 600

int main(void) {
	setbuf(stdout, NULL);

	int numeroCliente;
	char estadoCivil;
	int edad;
	float temperatura;
	char sexo;
	char respuesta;

	int contadorViudoSesenta = 0;

	int flagMujerSolteraMasJoven = 0;
	int numeroClienteMujerSolteraMasJoven;
	int edadMujerSolteraMasJoven;

	int precioTotalSinDescuento = 0;



	do {
		printf("Ingrese su número de cliente: ");
		scanf("%d", &numeroCliente);

		do {
			fflush(stdin);
			printf("Ingrese su estado civil ('s' para soltero, 'c' para casado, 'v', para viudo");
			scanf("%c", &estadoCivil);
		} while (estadoCivil != 's' && estadoCivil != 'c' && estadoCivil != 'v');

		do {
			fflush(stdin);
			printf("Ingrese su edad (Debe tener +18 años)");
			scanf("%d", &edad);
		} while (edad < 18);

		do {
			printf("Ingrese su temperatura (entre 34 y 42 grados");
			scanf("%f", &temperatura);
		} while (temperatura < 34 || temperatura > 42);

		do {
			fflush(stdin);
			printf("Ingrese su sexo ('f' para femenino, 'm' para masculino, 'o', para no binario");
			scanf("%c", &sexo);
		} while (sexo != 'm' && sexo != 'f' && sexo != 'o');

		//a.
		if (estadoCivil == 'v' && edad >= 60) {
			contadorViudoSesenta++;
		}

		if (sexo == 'f' && estadoCivil == 's') {

			if (flagMujerSolteraMasJoven != 0) {
				flagMujerSolteraMasJoven = 1;
				edadMujerSolteraMasJoven = edad;
				numeroClienteMujerSolteraMasJoven = numeroCliente;
			} else {
				if (edad < edadMujerSolteraMasJoven) {
					edadMujerSolteraMasJoven = edad;
					numeroClienteMujerSolteraMasJoven = numeroCliente;
				}
			}
		}

		precioTotalSinDescuento += PRECIO_PASAJERO;

		fflush(stdin);
		printf("Desea seguir ingresando usuarios? (s/n)");
		scanf("%c", &respuesta);

	} while (respuesta == 's');

	printf(
			"Se ingresaron %d personas con estado civil 'viudo' de mas de 60 años.\n",
			contadorViudoSesenta);
	printf(
			"La mujer soltera mas joven tiene: %d años, y su número de cliente es: %d.\n",
			edadMujerSolteraMasJoven, numeroClienteMujerSolteraMasJoven);
	printf("Precio total sin descuento: $%d", precioTotalSinDescuento);



	return EXIT_SUCCESS;
}

//a) La cantidad de personas con estado "viudo" de más de 60 años.
//b) el número de cliente y edad de la mujer soltera más joven.
//c) cuánto sale el viaje total sin descuento.
//d) si hay más del 50% de los pasajeros que tiene más de 60 años , el precio final tiene un descuento del 25%, que solo mostramos si corresponde.

